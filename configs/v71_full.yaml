project:
  out_dir: "artifacts"
  workers: 1

freqtrade:
  datadir: "data/freqtrade"

universe:
  pairs: ["XRP/USDT"]
  anchor_pair: "BTC/USDT"

timeframes:
  exec_tf: "1m"
  informative_tfs: ["15m", "1h", "4h"]
  timeframes_to_download: ["1m"]

labels:
  atr_period: 14
  base_horizon: 14
  tp_atr_mult: 1.6
  sl_atr_mult: 1.2
  conservative_same_bar: true

  vol_window: 96
  vol_scaled: true

  # pesos base
  w_flat: 1.0
  w_long: 2.5
  w_short: 2.5
  # boosts eventos/régimen
  w_breakout: 1.25
  w_rebound: 1.25
  w_spike: 1.60
  w_trend: 1.10

features:
  seq_len: 192
  adx_period: 14
  rsi_period: 14
  macd_fast: 12
  macd_slow: 26
  macd_signal: 9
  bb_period: 20
  bb_std: 2.0
  donchian_period: 20
  vol_lookback: 48
  chop_period: 14
  twin_range_fast: 7
  twin_range_slow: 28

train:
  batch_size: 256
  lr: 0.0002
  wd: 0.0001
  epochs: 20
  early_stop_patience: 7
  grad_clip: 1.0

  # losses
  reg_alpha: 1.0
  cls_alpha_side: 1.0
  cls_alpha_hit: 0.8
  cls_alpha_regime: 0.5
  cls_alpha_event: 0.5

  # class weights
  side_class_weights: [1.0, 2.0, 2.0]
  hit_class_weights:  [2.0, 1.0, 2.0]
  regime_class_weights: [1.2, 1.0, 1.0, 1.5]
  event_class_weights:  [1.0, 1.3, 1.3, 1.8]

  event_weight: 1.5

model:
  d_model: 160
  nhead: 8
  num_layers: 3
  dropout: 0.10
  quantiles: [0.10, 0.50, 0.90]
  norm_first: true

risk:
  leverage: 3.0
  max_hold_bars: 16
  tp_atr_mult: 1.6
  sl_atr_mult: 1.2
  exit_ev_min: 0.0
  exit_psl_max: 0.60

  # COSTOS explícitos (alineados labels/backtest)
  fee_rate: 0.0004
  slippage: 0.0002

cpu_threads: 6
